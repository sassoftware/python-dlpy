

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dlpy.model.Model.fit &mdash; DLPy 1.1.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="DLPy 1.1.1 documentation" href="../index.html"/>
        <link rel="up" title="API Reference" href="../api.html"/>
        <link rel="next" title="dlpy.model.Model.tune" href="dlpy.model.Model.tune.html"/>
        <link rel="prev" title="dlpy.model.Model.load_weights_attr" href="dlpy.model.Model.load_weights_attr.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> DLPy
          

          
          </a>

          
            
            
              <div class="version">
                1.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#imagetable">ImageTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#audiotable">AudioTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#timeseries">Timeseries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#layers">Layers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#model">Model</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../api.html#id6">Constructors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#model-setup">Model Setup</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../api.html#training">Training</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">dlpy.model.Model.fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlpy.model.Model.tune.html">dlpy.model.Model.tune</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlpy.model.Model.plot_training_history.html">dlpy.model.Model.plot_training_history</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#inference-evaluation-and-analysis">Inference, Evaluation, and Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#id7">Saving</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api.html#architecture-information">Architecture Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#solvers">Solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#optimizer">Optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#feature-maps">Feature Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#sequential-model">Sequential Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#residual-networks">Residual Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pre-built-models-for-computer-vision-tasks">Pre-Built Models for Computer Vision Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pre-built-models-for-nlp-tasks">Pre-Built Models for NLP Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#splitting-utilities">Splitting Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">DLPy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../api.html">API Reference</a> &raquo;</li>
      
    <li>dlpy.model.Model.fit</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/generated/dlpy.model.Model.fit.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dlpy-model-model-fit">
<h1>dlpy.model.Model.fit<a class="headerlink" href="#dlpy-model-model-fit" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="dlpy.model.Model.fit">
<code class="descclassname">Model.</code><code class="descname">fit</code><span class="sig-paren">(</span><em>data</em>, <em>inputs=None</em>, <em>target=None</em>, <em>data_specs=None</em>, <em>mini_batch_size=1</em>, <em>max_epochs=5</em>, <em>log_level=3</em>, <em>lr=0.01</em>, <em>optimizer=None</em>, <em>nominals=None</em>, <em>texts=None</em>, <em>target_sequence=None</em>, <em>sequence=None</em>, <em>text_parms=None</em>, <em>valid_table=None</em>, <em>valid_freq=1</em>, <em>gpu=None</em>, <em>attributes=None</em>, <em>weight=None</em>, <em>seed=0</em>, <em>record_seed=0</em>, <em>missing='mean'</em>, <em>target_missing='mean'</em>, <em>repeat_weight_table=False</em>, <em>force_equal_padding=None</em>, <em>save_best_weights=False</em>, <em>n_threads=None</em>, <em>target_order='ascending'</em><span class="sig-paren">)</span><a class="headerlink" href="#dlpy.model.Model.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting a deep learning model.</p>
<p>Note that this function surfaces several parameters from other parameters. For example,
while learning rate is a parameter of Solver (that is a parameter of Optimizer), it is leveled up
so that our users can easily set learning rate without changing the default optimizer and solver.
If a non-default solver or optimizer is passed, then these leveled-up
parameters will be ignored - even they are set - and the ones coming from
the custom solver and custom optimizer  will be used. In addition to learning_rate (lr),
max_epochs and log_level are another examples of such parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">This is the input data. It might be a string that is the
name of a cas table. Alternatively, this might be a cas table.</p>
</dd>
<dt><strong>inputs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or list-of-strings</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the input variables to use in the analysis.</p>
</dd>
<dt><strong>target</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or list-of-strings</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the target sequence variables to use in the analysis.</p>
</dd>
<dt><strong>data_specs</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference internal" href="dlpy.model.DataSpec.html#dlpy.model.DataSpec" title="dlpy.model.DataSpec"><strong>DataSpec</strong></a></span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the parameters for the multiple input cases.</p>
</dd>
<dt><strong>mini_batch_size</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the number of observations per thread in a
mini-batch. You can use this parameter to control the number of
observations that the action uses on each worker for each thread
to compute the gradient prior to updating the weights. Larger
values use more memory. When synchronous SGD is used (the
default), the total mini-batch size is equal to
miniBatchSize * number of threads * number of workers. When
asynchronous SGD is used (by specifying the elasticSyncFreq
parameter), each worker trains its own local model. In this case,
the total mini-batch size for each worker is
miniBatchSize * number of threads.</p>
</dd>
<dt><strong>max_epochs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">specifies the maximum number of epochs. For SGD with a
single-machine server or a session that uses one worker on a
distributed server, one epoch is reached when the action passes
through the data one time. For a session that uses more than one
worker, one epoch is reached when all the workers exchange the
weights with the controller one time. The syncFreq parameter
specifies the number of times each worker passes through the
data before exchanging weights with the controller. For L-BFGS
with full batch, each L-BFGS iteration might process more than
one epoch, and final number of epochs might exceed the maximum
number of epochs.</p>
</dd>
<dt><strong>log_level</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies how progress messages are sent to the client. The
default value, 0, indicates that no messages are sent. Specify 1
to receive start and end messages. Specify 2 to include the
iteration history.</p>
</dd>
<dt><strong>lr</strong> <span class="classifier-delimiter">:</span> <span class="classifier">double</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the learning rate.</p>
</dd>
<dt><strong>optimizer</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference internal" href="dlpy.model.Optimizer.html#dlpy.model.Optimizer" title="dlpy.model.Optimizer"><strong>Optimizer</strong></a></span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the parameters for the optimizer.</p>
</dd>
<dt><strong>nominals</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or list-of-strings</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the nominal input variables to use in the analysis.</p>
</dd>
<dt><strong>texts</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or list-of-strings</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the character variables to treat as raw text.
These variables must be specified in the inputs parameter.</p>
</dd>
<dt><strong>target_sequence</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or list-of-strings</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the target sequence variables to use in the analysis.</p>
</dd>
<dt><strong>sequence</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference internal" href="dlpy.model.Sequence.html#dlpy.model.Sequence" title="dlpy.model.Sequence"><strong>Sequence</strong></a></span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the settings for sequence data.</p>
</dd>
<dt><strong>text_parms</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference internal" href="dlpy.model.TextParms.html#dlpy.model.TextParms" title="dlpy.model.TextParms"><strong>TextParms</strong></a></span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the parameters for the text inputs.</p>
</dd>
<dt><strong>valid_table</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or CASTable</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the table with the validation data. The validation
table must have the same columns and data types as the training table.</p>
</dd>
<dt><strong>valid_freq</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the frequency for scoring the validation table.</p>
</dd>
<dt><strong>gpu</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference internal" href="dlpy.model.Gpu.html#dlpy.model.Gpu" title="dlpy.model.Gpu"><strong>Gpu</strong></a></span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">When specified, the action uses graphical processing unit hardware.
The simplest way to use GPU processing is to specify “gpu=1”.
In this case, the default values of other GPU parameters are used.
Setting gpu=1 enables all available GPU devices for use. Setting
gpu=0 disables GPU processing.</p>
</dd>
<dt><strong>attributes</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or list-of-strings</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies temporary attributes, such as a format, to apply to
input variables.</p>
</dd>
<dt><strong>weight</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the variable/column name in the input table containing the
prior weights for the observation.</p>
</dd>
<dt><strong>seed</strong> <span class="classifier-delimiter">:</span> <span class="classifier">double</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">specifies the random number seed for the random number generator
in SGD. The default value, 0, and negative values indicate to use
random number streams based on the computer clock. Specify a value
that is greater than 0 for a reproducible random number sequence.</p>
</dd>
<dt><strong>record_seed</strong> <span class="classifier-delimiter">:</span> <span class="classifier">double</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">specifies the random number seed for the random record selection
within a worker. The default value 0 disables random record selection.
Records are read as they are laid out in memory.
Negative values indicate to use random number streams based on the
computer clock.</p>
</dd>
<dt><strong>missing</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the policy for replacing missing values with imputed values.
<br/><strong class="param-meta">Valid Values:</strong> MAX, MIN, MEAN, NONE
<br/><strong class="param-meta">Default:</strong> MEAN</p>
</dd>
<dt><strong>target_missing</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the policy for replacing target missing values with
imputed values.
<br/><strong class="param-meta">Valid Values:</strong> MAX, MIN, MEAN, NONE
<br/><strong class="param-meta">Default:</strong> MEAN</p>
</dd>
<dt><strong>repeat_weight_table</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Replicates the entire weight table on each worker node when saving
weights.
<br/><strong class="param-meta">Default:</strong> False</p>
</dd>
<dt><strong>force_equal_padding</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">For convolution or pooling layers, this setting forces left padding
to equal right padding, and top padding to equal bottom padding.
This setting might result in an output image that is
larger than the input image.
<br/><strong class="param-meta">Default:</strong> False</p>
</dd>
<dt><strong>save_best_weights</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">When set to True, it keeps the weights that provide the smallest
loss error.</p>
</dd>
<dt><strong>n_threads</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the number of threads to use. If nothing is set then
all of the cores available in the machine(s) will be used.</p>
</dd>
<dt><strong>target_order</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span><span class="opt-sep">, </span><span class="optional">optional</span></dt>
<dd><p class="first last">Specifies the order of the labels. It can follow the natural order
of the labels or order them in the order they are recieved with
training data samples.
<br/><strong class="param-meta">Valid Values:</strong> ‘ascending’, ‘descending’, ‘hash’
<br/><strong class="param-meta">Default:</strong> ‘ascending’</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>CASResults</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dlpy.model.Model.tune.html" class="btn btn-neutral float-right" title="dlpy.model.Model.tune" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dlpy.model.Model.load_weights_attr.html" class="btn btn-neutral" title="dlpy.model.Model.load_weights_attr" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 SAS Institute Inc. All Rights Reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>